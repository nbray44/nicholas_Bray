-- PATIENT Table
CREATE TABLE PATIENT (
    patient_id INT PRIMARY KEY AUTO_INCREMENT,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL
);

-- DOCTOR Table
CREATE TABLE DOCTOR (
    doctor_id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    specialization VARCHAR(100)
);

-- APPOINTMENT Table (Includes Foreign Key Constraints)
CREATE TABLE APPOINTMENT (
    appointment_id INT PRIMARY KEY AUTO_INCREMENT,
    patient_id INT,
    doctor_id INT,
    appointment_time DATETIME NOT NULL,
    status VARCHAR(20),
    
    -- Explicit Foreign Key Relationships
    CONSTRAINT fk_patient
        FOREIGN KEY (patient_id) 
        REFERENCES PATIENT(patient_id)
        ON DELETE CASCADE,
        
    CONSTRAINT fk_doctor
        FOREIGN KEY (doctor_id) 
        REFERENCES DOCTOR(doctor_id)
        ON DELETE SET NULL
);
